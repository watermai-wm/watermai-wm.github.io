<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>碧藍戰卡上位構築查詢</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>碧藍戰卡上位構築查詢</h1>
		<h2>特別感謝<a href="https://space.bilibili.com/11514654/upload/opus">晓冬雨夜</a>分享資訊</h2>
		<h2><a href="index.html">卡片查詢</a></h2>
		<h2><a href="deckbuild.html">組牌模擬器</a></h2>

        <!-- 文字搜尋框 (搜尋 Description) -->
        <div class="search-input">
            <input type="text" id="searchDescription" placeholder="輸入關鍵字..." oninput="searchDecks()">
        </div>

        <!-- L_name 選擇篩選 -->
        <div class="filter-group">
            <h3>旗艦</h3>
            <select id="filterLNameSelect" onchange="searchDecks()">
                <option value="">全部</option> <!-- 預設顯示所有資料 -->
            </select>
        </div>

        <!-- Format & Level 排列在同一行 -->
		<div class="filter-row">
			<!-- Format 篩選 -->
			<div class="filter-group">
				<h3>環境</h3>
				<div id="filterFormatGroup"></div>
			</div>

			<!-- Level 篩選 -->
			<div class="filter-group">
				<h3>競爭等級</h3>
				<div id="filterLevelGroup"></div>
			</div>
		</div>
        <!-- 重置按鈕 -->
        <button onclick="resetDeckFilters()">重置搜尋</button>
		
		<!-- 按鈕開啟圓餅圖 -->
        <button id="openChartButton" onclick="toggleChart()">顯示冠軍統計</button>

        <!-- 圓餅圖模態框 -->
        <div id="chartModal" class="modal" onclick="closeChartModal(event)">
            <div class="modal-content">
                <h2>冠軍旗艦統計</h2>
                <canvas id="championChart"></canvas>
            </div>
        </div>


		<!-- 引入 Chart.js -->
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <!-- 顯示搜尋結果 -->
        <div id="deckResults"></div>

        <!-- 分頁控制 -->
        <div id="deckPagination">
            <button id="prevDeckPage" onclick="changeDeckPage(-1)">上一頁</button>
            <span id="deckPageInfo"></span>
            <button id="nextDeckPage" onclick="changeDeckPage(1)">下一頁</button>
        </div>
    </div>
	<!-- 放大圖片的模態框 -->
	<div id="imageModal" class="modal" onclick="closeImageModal()">
		<img id="modalImage" class="modal-content">
	</div>


    <script src="topdeck.js"></script>
    <script src="topdeck_script.js"></script>
	<script src="chart.js"></script> <!-- 引入圓餅圖 -->
</body>
</html>
